@import url('https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700|Source+Sans+Pro:300,400,400i,700');

// To do:
// Dropdown/selection field hover/select states
// Graph styling options? Functions? How do they work?
// More complex tooltip option?

// 1. Your custom variables and variable overwrites.
$global-font-family: 'Source Sans Pro', sans-serif;
$global-secondary-font-family: "Source Code Pro", monospace;

$global-xxlarge-font-size:                       3.157em;
$global-xlarge-font-size:                        2.369em;
$global-large-font-size:                         1.777em;
$global-medium-font-size:                        1.333em;
$global-small-font-size:                         0.75em;
$global-xsmall-font-size:                        0.563em;

//
// Colors
//

$global-color:                                   #FCF1E2; // Off White
$global-emphasis-color:                          #E7CCA9; // Dusky Yellow
$global-muted-color:                             #5D557F; // Lighter Gray/purple

$global-link-color:                              #E7CCA9;
$global-link-hover-color:                        darken($global-link-color, 20%);

$global-inverse-color:                          #FCF1E2;

//
// Percentiles
//

$legendary-color:                                       #9C0AFF;
$ascended-color:                                       #BF326D;
$exotic-color:                                       #CF890F;
$rare-color:                                       #EAC10B;
$uncommon-color:                                       #278718;
$common-color:                                       #2D81C6;
$trash-color:                                       #705E72;

//
// Backgrounds
//

$global-background:                              #1F1C2C;

$global-muted-background:                        #3D3852;
$global-primary-background:                      #832759;
$global-secondary-background:                    #461530;

$global-success-background:                      #278718 !default;
$global-warning-background:                      #CF890F !default;
$global-danger-background:                       #BF3F47 !default;

//
// Borders
//

$global-border:                                  #D6A568;
$global-border-width:                            1px;
$heading-line-border:                         $global-muted-color;
$global-border-radius:                           3px;
//
// Spacings
//

// Used in margin, section, list
$global-margin:                                  16px;
$global-small-margin:                            8px;
$global-medium-margin:                           34px;
$global-large-margin:                            72px;
$global-xlarge-margin:                           12px;

// Used in grid, column, container, align, card, padding
$global-gutter:                                  24px;
$global-small-gutter:                            16px;
$global-medium-gutter:                           40px;
$global-large-gutter:                            72px;


// Form Options
$form-border-width:                              1px;
$form-border:                                    $global-muted-color;

$form-focus-border:                              $global-color!default;

$form-disabled-border:                           $global-border !default;

$form-danger-border:                             $global-danger-background !default;
$form-success-border:                            $global-success-background !default;

// Table Options
$table-header-cell-font-weight:                  400;
$table-striped-row-background:                    darken($global-muted-background, 5%);

// Tooltip & Dropdown options
$tooltip-max-width:                              450px;
$tooltip-font-size:                              auto;

$dropdown-padding:                               $global-margin;
$dropdown-background:                            $global-muted-background;
$dropdown-color:                                 $global-color;
$dropdown-nav-item-color:                        $global-color;
$dropdown-nav-item-hover-color:                  darken($global-color, 10%);
$dropdown-nav-header-color:                      $global-emphasis-color !default;

// Badge Options
$badge-border-radius:                            $global-border-radius;

// 2. Import default variables and available mixins.
@import "variables.scss";
@import "mixins.scss";

// 3. Your custom mixin overwrites.

// Typography
// Headings
// ========================================================================

@mixin hook-base-heading(){
  font-weight: 900;
}

@mixin hook-base-h1(){}

@mixin hook-base-h2(){
  font-weight: 200;
}

@mixin hook-base-h3(){}

@mixin hook-base-h4(){
  letter-spacing: 1px;
}

@mixin hook-base-h5(){
  letter-spacing: 1px;
}

@mixin hook-base-h6(){
  letter-spacing: 1px;
}
.uk-font-family-primary {
  font-family: "Source Sans Pro", Helvetica, sans-serif;
}
.uk-font-family-secondary {
  font-family: "Source Code Pro", monospace;
}

// Buttons
@mixin hook-button(){
  background-color: transparent;
  border: 2px solid $global-muted-background;
  padding: 0 16px;
  .material-icons {
    vertical-align: middle;
  }
}
@mixin hook-button-hover(){
  background-color: $global-link-color;
  border: 2px solid $global-link-color;
}
@mixin hook-button-active(){
  background-color: $global-muted-background;
  border: 2px solid $global-link-color;
}
@mixin hook-button-focus(){
  background-color: $global-muted-background;
  border: 2px solid $global-link-color;
}
@mixin hook-button-primary(){
  background-color: $global-muted-background;
  border: 2px solid $global-link-color;
}
@mixin hook-button-primary-hover(){
}
@mixin hook-button-primary-active(){
}

.custom-header {
  background-repeat:no-repeat;
  background-image: url('../img/background/header-concept.jpg');
  background-color:  rgba( $global-secondary-background, .9 );
  background-blend-mode: multiply;
  background-size: 100% auto;
  background-position: top;
  background-attachment: fixed;
}

@mixin hook-tooltip(){
  border: 1px solid $global-color;
  background-color: $global-muted-background;
  @supports (backdrop-filter:blur()) or (-webkit-backdrop-filter:blur()){
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    background-color: rgba( $global-muted-background, .7 );
  }
}

@mixin hook-dropdown() {
  border: 1px solid $global-color;
  @supports (backdrop-filter:blur()) or (-webkit-backdrop-filter:blur()){
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    background-color: rgba( $global-muted-background, .7 );
  }
}

// Forms
@mixin hook-form() {
  border: $global-border-width solid $form-border;
  &:focus {
    border-color: $global-emphasis-color;
  }
  &:disabled {
    cursor: not-allowed;
  }
}

@mixin hook-form-danger() {
  border-color: $global-danger-background;
  background: $global-muted-background url('https://icongr.am/material/alert-circle-outline.svg?size=20&color=BF3F47') no-repeat scroll 95% 10px;
  &:focus {
    border-color: lighten($global-danger-background, 30%);
  }
}
@mixin hook-form-success() {
  border-color: $global-success-background;
  background: $global-muted-background url('https://icongr.am/material/check-circle-outline.svg?size=20&color=278718') no-repeat scroll 95% 10px;
  &:focus {
    border-color: lighten($global-success-background, 30%);
  }
}
.r-percentile-label {
  opacity: 0.5;
  cursor: pointer;
}
input.r-percentile-checkbox {
  display: none;
}
.r-percentile-checkbox:checked + .r-percentile-label {
  cursor: not-allowed;
  opacity: 1;
}


// Tables
@mixin hook-table {
  background: $global-muted-background;
}
@mixin hook-table-header-cell() {
  font-family: $global-secondary-font-family;
  font-size: $form-small-font-size;
  text-transform: uppercase;
  background: $global-background;
}

// Graphs
svg:not(:root).chart {
  overflow: visible;
}

.chart-hover{
  cursor: help;
  &:hover {
    outline: 1px solid #FDF8EF;
  }
}
.r-encounter-stats-container,
.r-global-stats-container {
  .r-stats-row {
    display: grid;
    grid-gap: $global-small-gutter;
    background: $global-muted-background;
    padding: $global-small-margin*1.5;
    margin-bottom: $global-small-margin;
    border-radius: $badge-border-radius;
  }
  .r-stats-header {
    font-size: $global-small-font-size;
    font-family: $global-secondary-font-family;
    text-transform: uppercase;
    background: transparent;
  }
}
.r-buff-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-gap: $global-small-gutter/2;
}
@media (min-width: $breakpoint-small) {
  .r-buff-container {
    grid-template-columns: repeat(5, 1fr);
    grid-gap: $global-small-gutter;
  }
}
.r-buff {
  display: grid;
  grid-template-columns: minmax(20px, max-content) repeat(3, minmax(max-content, 44px));
  grid-gap: 4px;
  max-height: 20px;
  .r-buff-icon {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-size: $global-small-font-size;
  }
  .r-buff-number {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: $global-small-font-size;
    font-weight: 700;
    padding: 0 2px;
    border-radius: $badge-border-radius;
  }
}
.r-duration {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-gap: 4px;
  .r-duration-item{
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: $global-small-font-size;
    font-weight: 700;
    padding: 0 2px;
    border-radius: $badge-border-radius;
    max-height: 20px;
  }

}

// Graphs - ENCOUNTERS
.r-encounter-stats-container {
  .r-stats-row {
    padding: $global-small-margin;
    margin-bottom: $global-small-margin/2;
    &.r-buff-stats {
      display: grid;
      grid-template-columns: 160px repeat(auto-fit, minmax(100px, 1fr));
      grid-template-rows: 2fr;
      grid-gap: $global-small-margin;
    }
    .compare {
      visibility: hidden;
    }
    &:hover .compare {
      visibility: visible;
    }
  }
  @media (min-width: $breakpoint-large) {
    .r-stats-row {
      display: grid;
      grid-template-columns: 160px 3fr 2fr repeat(4, 1fr);
      grid-gap: $global-small-gutter;
    }
  }
  .r-encounter-player {
    display: grid;
    align-items: center;
    grid-auto-flow: column;
  }
  .r-buff-toggle {
    grid-column: span 4;
  }
  .r-encounter-buff{
      display: grid;
      grid-template-rows: repeat(2, max-content);
      grid-template-columns: 20px 1fr;
      grid-gap: 4px;
      align-items: flex-start;
      img {
        grid-row: span 2;
      }
      .r-buff-number {
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: $global-small-font-size;
        font-weight: 700;
        padding: 0 2px;
        border-radius: $badge-border-radius;
        max-height: 24px;
        &:first-child {
          padding: 0 4px;
          font-size: $global-font-size
        }
      }
  }
}

// Graphs - GLOBAL STATS
.r-global-stats-container {
  .r-stats-row {
    grid-template: "spec spec" max-content
                    "damage damage" max-content
                   "buffs  buffs" max-content
                   / 160px 1fr;
    .r-spec {
      grid-area: spec;
      display:grid;
      grid-template-columns: 1fr 36px;
      grid-auto-flow: column;
      text-align: right;
      align-items: flex-end;
      cursor: help;
      @media (max-width: $breakpoint-small) {
        text-align: left;
      }
    }
    .r-global-stats-damage {
      grid-area: damage;
    }
    .r-global-stats-buffs {
      grid-area: buffs;
      align-items: center;
      h6 {
        grid-column: span 5;
        @media (max-width: $breakpoint-small) {
          grid-column: span 2;
        }
      }
    }
    .r-global-stats-popularity {
      grid-area: pop;
    }
  }
  @media (min-width: $breakpoint-large) {
    .r-stats-row {
      display: grid;
      grid-template: "spec damage buffs";
      grid-template-columns: 160px 3fr 5fr;
      grid-gap: $global-small-gutter;
    }
  }

}

.r-global-group-stats-container {
  display: grid;
  grid-auto-flow: row;
  .r-stats-row {
    display: grid;
    grid-template:  "damage damage"
                    "damagein duration";
    grid-template-columns: 1fr;
    @media (min-width: $breakpoint-large) {
        grid-template: "duration damage damagein";
        grid-template-columns: 1fr 4fr 2fr;
        grid-gap: $global-small-gutter;
      }
    .r-global-stats-damageIn {
      grid-area: damagein;
    }
  }
}

// Encounters List
.r-encounters-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  grid-template-rows: repeat(8, 1fr);
  grid-gap: $global-small-gutter;
  .r-encounters-list-row {
    grid-column: span 8;
    display: grid;
    background: $global-muted-background;
    border-radius: $badge-border-radius;
    .r-encounters-title,
    .r-encounters-time,
    .r-encounters-duration,
    .r-encounters-character,
    .r-encounters-account,
    .r-encounters-upload,
    .r-encounters-category,
    .r-encounters-tags {
      grid-row: 1;
    }
    &.header {
      font-family: $global-secondary-font-family;
      text-transform: uppercase;
      font-size: $global-small-font-size;
      background: none;
    }
  }
}


//Labels
@for $i from 1 through 49 {
  .r-bg-#{$i} {
    background-color: $trash-color !important;
    fill: $trash-color;
  }
}
@for $i from 50 through 59 {
  .r-bg-#{$i} {
    background-color: $common-color !important;
    fill: $common-color;
  }
}
@for $i from 60 through 59 {
  .r-bg-#{$i} {
    background-color: $uncommon-color !important;
    fill: $uncommon-color;
  }
}
@for $i from 70 through 79 {
  .r-bg-#{$i} {
    background-color: $rare-color !important;
    fill: $rare-color;
    text-shadow: 0 0 2px darken($rare-color, 30%);
  }
}
@for $i from 80 through 89 {
  .r-bg-#{$i} {
    background-color: $exotic-color !important;
    fill: $exotic-color;
  }
}
@for $i from 90 through 98 {
  .r-bg-#{$i} {
    background-color: $ascended-color !important;
    fill: $ascended-color;
  }
}
@for $i from 99 through 100 {
  .r-bg-#{$i} {
    background-color: $legendary-color !important;
    fill: $legendary-color;
  }
}

// 4. Import UIkit.
@import "uikit-theme.scss";
